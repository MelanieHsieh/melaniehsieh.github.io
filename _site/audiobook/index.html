<!DOCTYPE html> <html> <head prefix="og: http://ogp.me/ns#"> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="Project Minimal" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="Project Minimal" /> <title> A replica of Amazon&#39;s Audible - Project Minimal </title> <link rel="alternate" href="http://localhost:4000/audiobook/" hreflang="en-US" /> <link rel="canonical" href="http://localhost:4000/audiobook/" /> <meta name="description" content="" /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="A replica of Amazon&#39;s Audible | " /> <meta property="og:title" content="A replica of Amazon&#39;s Audible | " /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://localhost:4000/audiobook/" /> <meta property="og:description" content="" /> <meta property="og:image" content="http://localhost:4000/assets/img/ogp.png" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="A replica of Amazon&#39;s Audible | " /> <meta name="twitter:url" content="http://localhost:4000/audiobook/" /> <meta name="twitter:site" content="@" /> <meta name="twitter:creator" content="@" /> <meta name="twitter:description" content="" /> <meta name="twitter:image" content="http://localhost:4000/assets/img/ogp.png" /> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Project Minimal" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" /> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png" /> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png" /> <link rel="manifest" href="/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> <meta name="apple-mobile-web-app-title" content="Jekyll Klise" /> <meta name="application-name" content="Jekyll Klise" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/assets/css/style.css" /> </head> <body data-theme="dark"> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mode"> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"> <a class="menu-link" href="/">home</a> <a class="menu-link" href="/about/">about</a> <a class="menu-link" href="/blog/">blog</a> <a class="menu-link" href="/series/">series</a> </div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <div class="tags"> <span itemprop="keywords"> <a class="tag" href="/series/#code">CODE</a> </span> </div> <h1 class="header-title" itemprop="headline">A replica of Amazon&#39;s Audible</h1> <div class="post-meta"> <time datetime="2020-11-06T08:42:43+08:00" itemprop="datePublished"> Nov 06, 2020 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span itemprop="name">Melanie Hsieh</span> </span> <time hidden datetime="" itemprop="dateModified"> Nov 06, 2020 </time> <span hidden itemprop="publisher" itemtype="Person">Melanie Hsieh</span> <span hidden itemprop="image"></span> <span hidden itemprop="mainEntityOfPage"><p>This month I’ve been playing around with machine learning and experimenting with different libraries. On the other hand, I’ve been wanting to read this new Chinese novel series, 慶餘年. It has 760 chapters, each chapter with a few thousand Chinese character. Also, this novel series was highly recommended by my cousin.</p> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <p>This month I’ve been playing around with machine learning and experimenting with different libraries. On the other hand, I’ve been wanting to read this new Chinese novel series, 慶餘年. It has 760 chapters, each chapter with a few thousand Chinese character. Also, this novel series was highly recommended by my cousin.</p> <p>And this is what I came up…</p> <p>An audiobook that is sort of a replica Amazon’s Audible. Imagine there is a software where you paste in the link of the book, it converts the file into pdf then use text-to-speech recognition to read the characters out loud. How cool would that be…</p> <p>Here the the 4 key steps:</p> <h1 id="1-find-the-book-online"> <a href="#1-find-the-book-online" class="anchor-head"></a> 1 Find the book online </h1> <p>I found this website that offers <a href="http://big5.quanben-xiaoshuo.com/n/qingyunian/xiazai.html">慶餘年</a> in TXT format.</p> <h1 id="2-convert-txt-to-pdf-format"> <a href="#2-convert-txt-to-pdf-format" class="anchor-head"></a> 2 Convert TXT to PDF format </h1> <p>This took me a while as there were 760 chapters. But here is a simple snipet where I used the <em>pdfkit</em> library to convert from txt to pdf.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pdfkit</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">site</span><span class="p">:</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="mi">14</span><span class="p">:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="s">'.pdf'</span>
    <span class="n">pdfkit</span><span class="p">.</span><span class="n">from_url</span><span class="p">(</span><span class="s">'http://big5.quanben-xiaoshuo.com'</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span>

    <span class="n">old</span> <span class="o">=</span> <span class="s">r''</span> <span class="o">+</span> <span class="n">title</span>
    <span class="n">new</span> <span class="o">=</span> <span class="s">r'./慶餘年/'</span> <span class="o">+</span> <span class="n">title</span>
    <span class="n">shutil</span><span class="p">.</span><span class="n">move</span><span class="p">(</span><span class="n">old</span><span class="p">,</span><span class="n">new</span><span class="p">)</span>
</code></pre></div></div> <h1 id="3-text-to-speech"> <a href="#3-text-to-speech" class="anchor-head"></a> 3 Text to Speech </h1> <p>Here comes the fun part. I used Google’s <strong>gTTS Library</strong> to process text into speech. They offer a wide range of language, including Cantonese, Mandarin, English, French etc. I then wrote a simple script to tell the program to read every character from the PDF document I generated previously.</p> <p>However, the gTTS Library isn’t the newest libary offered. It often skips past a few vocabulary such as <strong>‘⼦’, ‘一’, ‘黑’</strong>. This made the whole audio book sounds incomplete making the whole user experience bad.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">gtts</span> <span class="kn">import</span> <span class="n">gTTS</span>

<span class="n">myAudio</span> <span class="o">=</span> <span class="n">gTTS</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">output_string</span><span class="p">.</span><span class="n">getvalue</span><span class="p">(),</span> <span class="n">lang</span><span class="o">=</span><span class="s">'zh-yu'</span><span class="p">,</span> <span class="n">slow</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="n">myAudio</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="s">"Audio.mp3"</span><span class="p">)</span>
</code></pre></div></div> <h1 id="4-慶餘年-chapter-1-audiobook"> <a href="#4-慶餘年-chapter-1-audiobook" class="anchor-head"></a> 4 慶餘年 Chapter 1 Audiobook </h1> <audio controls=""> <source src="/img/audiobook/Audio.mp3" width="500" type="audio/mp3" /> </audio> <h3 id="慶餘年-chapter-1-pdf-snippet"> <a href="#慶餘年-chapter-1-pdf-snippet" class="anchor-head"></a> 慶餘年 Chapter 1 PDF snippet </h3> <p>楔⼦ ⼀塊⿊布 範慎很困難地撐著上眼⽪，看著指頭算⾃⼰這輩⼦做過些什麽有意義的事情，結果右⼿五根瘦成筷⼦⼀樣的指頭</p> <p>還沒有數完，他就歎了⼀⼝氣，很傷⼼地放棄了這個⼯作。</p> <p>病房裏的藥⽔味總是這麽刺⿐，旁邊那床的老爺⼦前兩天已經去地藏王菩薩那裏報道了，⼤概再過幾天就輪到⾃</p> <p>他得了某種怪病，重症肌無⼒，就是特別適合男主⾓的那種病。據說沒得醫，將來嗝屁的那天什麽都動不了，隻</p> <p>“可我不是⾔情啊。”範慎咕噥著，但由於兩頜的肌⾁沒有了作⽤，所以變成⼀串含糊的囈語。</p> <p>他望著⾃⼰的中指頭，很同情⾃⼰，“我還是處男。”</p> <p>⼰吧。</p> <p>有眼淚可以流下來。</p> <h3 id="nung-update"> <a href="#nung-update" class="anchor-head"></a> Nung Update </h3> <p>Nung is still in progress, was a bit behind the schedule as I haven’t test it on a Parkinson’s Disease patient. Will be coming soon shortly…</p> <p>Please subscibe to my monthly blog to get the latest updates.</p> <p>Thanks for reading 👀. There will be a monthly blog every month on the first week of Friday, Stay Tuned.😉</p> </div> </article> <!-- unnecessary file, but you can still use for comment section, e.g disqus --> <script src="https://utteranc.es/client.js" repo="username/reponame" issue-term="pathname" label="✨ comment ✨" theme="github-light" crossorigin="anonymous" async ></script> </main> <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/nung2/" > <div class="nav-arrow">Previous</div> <span class="post-title">Using ML models to improve monitoring of PD's patients - Part 2</span> </a> <a class="post-nav-item post-nav-next" href="/nung2.5/"> <div class="nav-arrow">Next</div> <span class="post-title">Using ML models to improve monitoring of PD's patients - Part 3</span> </a> </nav> <footer class="footer"> <small class="footer_theme-copyright"> <a href="https://github.com/melaniehsieh" target="_blank" rel="noreferrer noopener" >melaniehsieh</a > © 2020 </small> </footer> <script src="/assets/js/main.js" defer="defer"></script> <script src="/assets/js/galite.js"></script> <script> var galite = galite || {}; galite.UA = "UA-164930515-1"; </script> </div> </body> </html>
